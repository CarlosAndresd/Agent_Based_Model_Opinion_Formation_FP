name: automatic_sphinx_doc
run-name: Creating documentation using Sphinx
on: [push]
jobs:
  update-sphinx-documentation:
    runs-on: ubuntu-latest
    steps:
      - run: | 
          pip install sphinx
          pip install sphinx_rtd_theme
          pip install -r requirements.txt
      - uses: actions/checkout@v2
      - run: |
          pwd
          ls -la
          rm docs/src.rst
          rm docs/modules.rst
          sphinx-apidoc -o ./docs ./src/
          cd docs
          pwd
          ls -la
          make clean html
